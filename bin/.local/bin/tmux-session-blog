#!/bin/bash

session="Blog"
tmux has-session -t $session 2>/dev/null

if [ $? != 0 ]; then
    tmux new -s $session -d
    tmux rename-window -t $session Daemon
    tmux send-keys -t $session 'cd ~/Projects/davidpeach.me/ && npm run dev' C-m

    tmux new-window -t $session
    tmux rename-window -t $session Code
    tmux send-keys -t $session 'nvim ~/Projects/davidpeach.me/' C-m
    
    tmux new-window -t $session
    tmux rename-window -t $session Browser
    tmux send-keys -t $session 'lynx http://localhost:3000' C-m
fi

tmux attach -t $session

